{"version":3,"file":"dashboard.component.js","sourceRoot":"","sources":["../home/vigilate/frontend/frontend/tmp/broccoli_type_script_compiler-input_base_path-tkvoKOOh.tmp/0/src/app/dashboard.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,uBAAuB,iBAAiB,CAAC,CAAA;AAEzC,6BAA4B,gBAAgB,CAAC,CAAA;AAC7C,6BAA4B,gBAAgB,CAAC,CAAA;AAC7C,mCAAkC,sBAAsB,CAAC,CAAA;AACzD,gCAA+B,mBAG/B,CAAC,CAHiD;AAQlD;IAOI,4BAAqB,WAAwB,EACtC,WAAwB,EACxB,MAAc,EACd,iBAAoC,EACpC,cAA8B;QAJhB,gBAAW,GAAX,WAAW,CAAa;QACtC,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,mBAAc,GAAd,cAAc,CAAgB;QATrC,kBAAa,GAAG,CAAC,CAAC;QAClB,mBAAc,GAAG,CAAC,CAAC;QACnB,qBAAgB,GAAG,CAAC,CAAC;QACrB,iBAAY,GAAG,KAAK,CAAC;IAOrB,CAAC;IAED,qCAAQ,GAAR;QAAA,iBA4BC;QA3BJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,oBAAoB,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,oBAAoB,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;QAC1F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,oBAAoB,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;QAEtF,IAAI,CAAC,iBAAiB,CAAC,aAAa;aAC/B,SAAS,CAAC,UAAA,cAAc;YAC5B,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,oBAAoB,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;YAC/E,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAEtB,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,iBAAiB,CAAC,YAAY;aAC9B,SAAS,CAAC,UAAA,aAAa;YAC3B,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,oBAAoB,EAAE,YAAY,EAAE,aAAa,CAAC,CAAC;YAC7E,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,iBAAiB,CAAC,eAAe;aACjC,SAAS,CAAC,UAAA,gBAAgB;YAC9B,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YACzC,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,oBAAoB,EAAE,eAAe,EAAE,gBAAgB,CAAC,CAAC;YACnF,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;IAED,oCAAO,GAAP,UAAQ,MAAM;QACjB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC;IAClC,CAAC;IAED,wCAAW,GAAX;QACH,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,MAAM,EAAE,cAAc,EAAE,WAAW,CAAC,CAAC;IAC5D,CAAC;IAvDL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,UAAU;YACpB,WAAW,EAAE,8BAA8B;SAC9C,CAAC;;0BAAA;IAqDF,yBAAC;AAAD,CAAC,AAnDD,IAmDC;AAnDY,0BAAkB,qBAmD9B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from './user.model';\nimport { AuthService } from './auth.service';\nimport { UserService } from './user.service';\nimport { BackgroundService } from './background.service';\nimport { StorageService } from './storage.service'\n\n\n@Component({\n    selector: 'dasboard',\n    templateUrl: 'app/dashboard.component.html',\n})\n\nexport class DashboardComponent implements OnInit {\n\n    nb_total_prog = 0;\n    nb_total_alert = 0;\n    nb_total_station = 0;\n    stats_loaded = false;\n    \n    constructor (private authService: AuthService,\n\t\t private userService: UserService,\n\t\t private router: Router,\n\t\t private backgroundService: BackgroundService,\n\t\t private storageService: StorageService\n\t\t){}\n\n    ngOnInit() {\n\tthis.nb_total_prog = this.storageService.get(\"DashboardComponent\", \"total_prog\", 0);\n\tthis.nb_total_station = this.storageService.get(\"DashboardComponent\", \"total_station\", 0);\n\tthis.nb_total_alert = this.storageService.get(\"DashboardComponent\", \"total_alert\", 0);\n\t\n\tthis.backgroundService.cntTotalAlert\n\t    .subscribe(nb_total_alert => {\n\t\tthis.nb_total_alert = nb_total_alert;\n\t\tthis.storageService.store(\"DashboardComponent\", \"total_alert\", nb_total_alert);\n\t\tthis.stats_loaded = true;\n\n\t    });\n\n\tthis.backgroundService.cntTotalProg\n\t    .subscribe(nb_total_prog => {\n\t\tthis.nb_total_prog = nb_total_prog;\n\t\tthis.storageService.store(\"DashboardComponent\", \"total_prog\", nb_total_prog);\n\t\tthis.stats_loaded = true;\n\t    });\n\n\tthis.backgroundService.cntTotalStation\n\t    .subscribe(nb_total_station => {\n\t\tthis.nb_total_station = nb_total_station;\n\t\tthis.storageService.store(\"DashboardComponent\", \"total_station\", nb_total_station);\n\t\tthis.stats_loaded = true;\n\t    });\n\n\tthis.backgroundService.update();\n    }\n\n    onClick(target) {\n\tthis.router.navigate(['/' + target]);\n    }\n\n    onClickTour() {\n\tthis.storageService.store(\"Tour\", \"current_step\", \"/stations\");\n    }\n}\n"]}