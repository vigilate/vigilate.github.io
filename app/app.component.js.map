{"version":3,"file":"app.component.js","sourceRoot":"","sources":["../home/vigilate/frontend/frontend/tmp/broccoli_type_script_compiler-input_base_path-tkvoKOOh.tmp/0/src/app/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { LoginComponent } from './login.component';\nimport { AuthService } from './auth.service';\nimport { ProgramsService } from './programs.service';\nimport { BackgroundService } from './background.service';\nimport { Router, ROUTER_DIRECTIVES } from '@angular/router';\nimport { Backend } from './backend.class'\nimport { UserService } from './user.service';\nimport { NavigationExtras } from '@angular/router/router';\nimport './rxjs-operators';\nimport { StorageService } from './storage.service'\nimport { NotificationsComponent } from './notifications.component'\n\n@Component({\n    moduleId: module.id,\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    styleUrls: ['app.component.css'],\n    directives: [ROUTER_DIRECTIVES, NotificationsComponent]\n})\n\nexport class AppComponent implements OnInit {\n\n    nb_new_alert = 0\n    \n    routes = [\n\t{name: \"Dashboard\", path: \"/dashboard\", active: true},\n\t{name: \"Programs\", path: \"/programs\", active: false},\n\t{name: \"Alerts\", path: \"/alerts\", active: false},\n\t{name: \"Settings\", path: \"/settings\", active: false},\n\t{name: \"Stations\", path: \"/stations\", active: false}\n    ]\n\n    activated_page = \"\";\n\n    tour_current_step = \"\";\n    \n    constructor (private authService: AuthService,\n\t\t private programsService: ProgramsService,\n\t\t private backgroundService: BackgroundService,\n\t\t private backend: Backend,\n\t\t private userService: UserService,\n\t\t private router: Router,\n\t\t private storageService: StorageService\n\t\t) {}\n\n    ngOnInit() {\n\tthis.backgroundService.cntAlertChange\n\t    .subscribe(nb_new_alert => {\n\t\tthis.nb_new_alert = nb_new_alert\n\t    });\n\n\tthis.storageService.updated\n\t    .subscribe((obj) => {\n\t\t\n\t\tif (obj.client == \"AuthGuard\" && obj.key == \"current_page\")\n\t\t    this.activated_page = \"/\" + obj.value;\n\t\tif (obj.client == \"Tour\" && obj.key == \"current_step\") {\n\t\t    this.tour_current_step = obj.value;\n\t\t    console.log(\"Tour changed\", obj.value);\n\t\t}\n\t\t    \n\t    });\n    }\n\n    onImgClick() {\n\tlet new_url = prompt(\"Backend URL:\", this.backend.getHost());\n\tif (new_url != null && new_url != this.backend.getHost())\n\t{\n\t    this.backend.setHost(new_url);\n\t}\n    }\n\n    logout() {\n\tthis.router.navigate(['/logout']);\n    }\n}\n"]}